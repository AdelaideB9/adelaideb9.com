<template>
  <div v-click-outside="unfocus">
    <div class="hidden md:flex items-center h-20 font-medium justify-between">
      <div class="flex gap-x-8 lg:gap-x-16 items-center">
        <router-link to="/">
          <!-- <img class="h-10" src="/img/icons/icon.png" /> -->
          <svg
            xmlns:dc="http://purl.org/dc/elements/1.1/"
            xmlns:cc="http://creativecommons.org/ns#"
            xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
            xmlns:svg="http://www.w3.org/2000/svg"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 263.06296 309.06503"
            version="1.1"
            class="h-10"
          >
            <g
              inkscape:label="Layer 1"
              inkscape:groupmode="layer"
              transform="translate(-5.2959097,55.502755)"
            >
              <path
                style="
                  display: inline;
                  fill: #fdfdfd;
                  fill-opacity: 1;
                  fill-rule: evenodd;
                  stroke: none;
                  stroke-width: 1.13393;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                "
                d="m 41.227983,252.69757 c -3.688755,-0.32774 -5.294839,-0.71334 -11.396459,-2.73635 -4.705821,-1.56022 -6.791276,-2.67824 -11.282113,-6.04837 -5.85876,-4.39669 -9.5718609,-9.87735 -12.0329453,-17.76103 l -1.220556,-3.90986 0.1085474,-86.36757 c 0,0 -0.00701,-77.984855 0.1085474,-84.250895 0.1155535,-6.26605 7.2332885,-30.44579 12.7998765,-40.830872 3.783135,-7.4345028 7.794361,-14.8371208 12.716842,-21.581631 1.163189,-1.563904 4.571483,-5.240311 7.573985,-8.169804 12.780335,-12.469552 19.276224,-17.247861 30.216536,-22.226986 12.07721,-5.302554 25.104214,-10.132249 37.419646,-11.715761 11.65797,-1.464426 17.58125,-2.101962 22.67857,-2.440943 6.22901,-0.414242 25.19,0.03415 28.15922,0.665911 16.0025,2.15455 34.06725,5.614914 48.00298,13.391102 3.07847,1.798891 12.51349,7.140401 16.73917,10.315363 4.22568,3.174961 13.82611,12.878023 17.0974,17.007486 4.58626,5.2405072 8.35409,11.2381722 12.5285,17.2728122 0.94345,1.354215 4.42419,8.7459848 6.62118,14.0608818 4.55429,12.245711 10.07231,29.227801 10.13101,35.159581 l 0.11457,83.910725 c 0.1062,77.76621 0.0678,84.09063 -0.52387,86.36755 -0.35093,1.79592 -1.9224,6.53024 -5.24182,11.51718 -3.31942,4.98692 -11.22299,13.16128 -23.77323,16.78316 -2.76911,0.71681 -12.02032,2.5333 -19.80228,2.45028 -8.0446,-0.0858 -13.85699,-1.48561 -18.99331,-3.63255 -3.86041,-1.61364 -10.15382,-5.22226 -13.4713,-7.72445 -3.28645,-2.47878 -6.02717,-3.93684 -8.35339,-4.44402 -1.65042,-0.35984 -4.5409,0.98549 -8.45628,3.93583 -4.72679,3.56174 -12.14084,8.38745 -22.49919,10.45462 -10.35836,2.06716 -32.76814,-0.80791 -43.17252,-8.22265 -6.573417,-4.85862 -8.445635,-5.13508 -13.042122,-1.92582 -1.4878,1.03878 -4.404196,2.74365 -6.480887,3.7886 -2.076688,1.04494 -4.796332,2.4253 -6.043655,3.0675 -2.304436,1.18644 -5.594159,2.09536 -11.717261,3.23741 -3.837474,0.71573 -19.958137,1.0971 -25.513392,0.60357 z"
                sodipodi:nodetypes="sssscczcccccscczccccsczcssssszcsssss"
              />
              <path
                style="
                  display: inline;
                  fill: #190808;
                  fill-opacity: 1;
                  fill-rule: evenodd;
                  stroke: none;
                  stroke-width: 1.13393;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                "
                d="m 86.608689,107.41472 c -4.908447,-1.22831 -10.045986,-2.54975 -14.152695,-5.63946 -2.560891,-2.221695 -4.535971,-5.044855 -6.508816,-7.768045 -2.267241,-5.01505 -4.752197,-10.30688 -4.231052,-15.97036 0.533508,-6.57511 1.841791,-13.50779 6.25053,-18.67826 3.079451,-3.88455 6.680136,-7.74182 11.577407,-9.20803 5.580046,-2.2768 11.831262,-2.44786 17.718005,-1.52803 5.013442,0.92798 9.869582,2.90769 13.713042,6.3236 3.16717,2.67901 5.86696,6.05863 7.59784,9.83477 2.24376,5.24587 3.70972,11.06118 2.77205,16.78473 -1.16751,11.09949 -9.02109,21.415945 -19.82677,24.671455 -4.782193,1.52294 -9.949577,2.11227 -14.909541,1.17763 z M 97.109451,96.570985 c 5.540169,-1.63631 10.188939,-5.90671 12.012009,-11.4243 2.50428,-5.89963 0.82624,-12.61602 -1.97853,-18.08651 -3.68439,-6.63802 -11.967919,-9.46814 -19.220804,-8.70256 -3.878964,0.8264 -7.588449,2.80231 -10.457934,5.54615 -4.278995,4.18142 -5.151078,10.4634 -4.774457,16.17216 0.04048,5.96997 3.839041,11.45447 8.657569,14.71609 4.708202,2.5199 10.612147,3.22314 15.762147,1.77897 z"
              />
              <path
                style="
                  display: inline;
                  fill: #190808;
                  fill-opacity: 1;
                  fill-rule: evenodd;
                  stroke: none;
                  stroke-width: 1.13393;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                "
                d="m 203.7813,86.430705 c -4.35222,-3.47272 -8.36671,-7.61217 -13.70405,-9.59193 -4.39093,-1.58422 -9.24303,-2.70428 -13.86192,-1.42204 -3.75546,0.86511 -7.33924,2.37779 -10.6063,4.41397 -3.80324,1.86855 -6.41877,6.04891 -10.83161,6.68281 -2.85323,0.35158 -5.72258,-1.63978 -6.26779,-4.49888 -1.05848,-3.09112 0.70737,-6.26981 3.12653,-8.14792 4.47578,-3.63778 9.57367,-6.46942 14.76777,-8.94192 2.29857,-0.96397 4.69963,-1.74484 7.11882,-2.29904 6.38365,-0.6806 12.98415,-0.7053 19.10395,1.49101 4.02899,1.18564 8.03436,2.69016 11.32079,5.38253 3.5889,2.62694 6.67927,5.98536 8.94426,9.80966 1.20283,3.24258 -1.15788,7.7162 -4.8563,7.73166 -1.41959,0.1025 -2.98113,0.11579 -4.25415,-0.60991 z"
              />
              <path
                style="
                  display: inline;
                  fill: #190808;
                  fill-opacity: 1;
                  fill-rule: evenodd;
                  stroke: none;
                  stroke-width: 1.13393;
                  stroke-linecap: round;
                  stroke-linejoin: round;
                "
                d="M 50.889939,238.76649 C 36.68296,238.12167 21.331472,229.0381 20.096387,213.63501 19.545255,162.20018 19.437479,110.74055 20.107635,59.306675 22.011941,36.909139 31.069895,15.337038 44.620796,-2.4844958 57.320587,-17.361964 73.839458,-28.873781 92.845294,-34.001775 c 16.609766,-5.62853 34.602776,-6.589544 52.060426,-6.192818 31.67452,0.803796 64.59162,13.382845 83.66611,39.69023616 14.0609,17.13170684 21.51823,39.11996784 24.12045,60.89100184 0.4062,51.425205 0.0374,102.853535 0.0369,154.280115 -3.1552,14.42929 -17.26341,22.98589 -31.44403,23.95423 -14.18062,0.96833 -23.91487,-9.14511 -36.82508,-14.14555 -12.91021,-5.00044 -23.59315,7.25094 -35.14249,11.14962 -13.76725,5.18883 -29.29625,1.48651 -40.09,-8.27018 -10.639261,-7.97404 -24.889497,-4.42452 -33.519335,4.6654 -6.912097,5.98207 -16.038677,6.98851 -24.818345,6.74621 z m 8.882438,-13.27804 c 12.088204,-2.78526 19.829209,-15.4397 32.975603,-15.02992 12.80408,-2.17666 23.00807,6.89391 33.20127,12.88384 13.70426,6.18984 26.19535,-3.83644 37.37182,-10.21366 13.1696,-5.3768 28.56936,-2.32923 39.29972,6.83702 10.01263,9.34405 37.31534,5.17765 37.31534,-12.55255 0,-17.73022 0.2462,-18.9874 0.47536,-31.33616 -0.18181,-39.39931 0.11488,-78.852015 -0.31389,-118.225535 -5.45656,-31.327456 -23.10465,-62.8347508 -53.57716,-75.547578 -21.42977,-10.732725 -46.24695,-11.621827 -69.63033,-8.95245 -28.145339,3.603961 -55.784733,18.5986822 -69.693624,44.024759 -12.95471,20.271327 -16.194377,44.880829 -15.311509,68.499999 0.165338,42.095975 -0.673224,84.218365 0.493987,126.298225 0.405519,13.36092 17.512102,14.50019 27.393413,13.31401 z"
                sodipodi:nodetypes="scccccccczzcccssccccczcccccccc"
              />
            </g>
          </svg>
        </router-link>
        <router-link class="no-underline" to="/ctfs">CTFs</router-link>
        <router-link class="no-underline" to="/events">Events</router-link>
        <a class="no-underline" href="https://blog.adelaideb9.com">Blog</a>
        <router-link class="no-underline" to="/about">About</router-link>
      </div>
      <AccountDropdown />
    </div>

    <div class="md:hidden h-20 items-center justify-between flex">
      <router-link to="/">
        <img class="h-10" src="/img/icons/icon.png" />
      </router-link>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-10 cursor-pointer select-none items-end"
        viewBox="0 0 20 20"
        @click="showMenu = !showMenu"
      >
        <path
          fill="currentColor"
          fill-rule="evenodd"
          d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"
          clip-rule="evenodd"
        />
      </svg>
    </div>

    <transition name="fade" mode="out-in">
      <div
        v-show="showMenu"
        class="absolute top-0 left-0 flex flex-col w-full bg-secondary text-primary p-5 font-medium text-lg md:hidden"
      >
        <router-link
          class="no-underline p-2 hover:bg-primary hover:text-secondary rounded"
          to="/"
          >Home</router-link
        >
        <router-link
          class="no-underline p-2 hover:bg-primary hover:text-secondary rounded"
          to="/ctfs"
          >CTFs</router-link
        >
        <router-link
          class="no-underline p-2 hover:bg-primary hover:text-secondary rounded"
          to="/events"
          >Events</router-link
        >
        <a
          class="no-underline p-2 hover:bg-primary hover:text-secondary rounded"
          href="https://blog.adelaideb9.com"
          >Blog</a
        >
        <router-link
          class="no-underline p-2 hover:bg-primary hover:text-secondary rounded"
          to="/about"
          >About
        </router-link>
        <a
          class="no-underline p-2 bg-primary/10 hover:bg-primary hover:text-secondary rounded"
        >
          <AccountDropdown />
        </a>
      </div>
    </transition>
  </div>
</template>

<script setup>
import AccountDropdown from "./AccountDropdown.vue";
import { ref, watch } from "vue";
import { useRoute } from "vue-router";
let showMenu = ref(false);
const route = useRoute();
const unfocus = () => (showMenu.value = false);
watch(
  () => route.path,
  () => (showMenu.value = false)
);
</script>
